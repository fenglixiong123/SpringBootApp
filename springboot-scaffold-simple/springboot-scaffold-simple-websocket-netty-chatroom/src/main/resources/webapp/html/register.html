<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册新用户</title>

    <link rel="stylesheet" href="../layui/css/layui.css">
    <script src="../layui/layui.js"></script>

    <script src="../style/js/login.js"></script>
    <script src="../style/js/common/jquery3.6.0.js"></script>

    <style>
        /*重写label的css改变其宽度*/
        .layui-form-label {
            width: 25% !important;
            /*text-align: center !important;*/
        }
        .layui-input-block {
            margin-left: 33% !important;
        }
    </style>

</head>
<body>

<div>

    <div style="text-align: center;margin: 50px 0">
        <h1>欢迎注册新用户</h1>
    </div>

    <div class="layui-row">

        <div class="layui-col-md4">&nbsp;
        </div>

        <div class="layui-col-md4">
            <div class="layui-panel" style="padding: 0 60px;background-color: #F5F5F5">
                <br/>
                <br/>

                <div style="width: 80%;align-self: center">

                    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                        <legend>欢迎注册</legend>
                    </fieldset>
                    <form class="layui-form" lay-filter="registerForm" action="">

                        <div class="layui-form-item">
                            <label class="layui-form-label">昵称</label>
                            <div class="layui-input-block">
                                <input type="text" name="nickname" lay-verify="sizeValidate" placeholder="请输入昵称" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">用户名</label>
                            <div class="layui-input-block">
                                <input type="text" name="username" lay-verify="required|sizeValidate" lay-reqtext="用户名是必填项，岂能为空？" placeholder="请输入用户名" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">密码</label>
                            <div class="layui-input-block">
                                <input type="password" name="password" lay-verify="required|passValidate" lay-reqtext="密码是必填项，岂能为空？" placeholder="请输入密码" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">确认密码</label>
                            <div class="layui-input-block">
                                <input type="password" name="password2" lay-verify="required|passValidate|confirmPassValidate" lay-reqtext="确认密码是必填项，岂能为空？" placeholder="请再次输入密码" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">找回密码问题</label>
                            <div class="layui-input-block">
                                <input type="text" name="passwordQuestion" lay-verify="required" lay-reqtext="找回密码问题是必填项，岂能为空？" placeholder="请输入找回密码问题" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">找回密码答案</label>
                            <div class="layui-input-block">
                                <input type="text" name="passwordAnswer" lay-verify="required" lay-reqtext="找回密码答案是必填项，岂能为空？" placeholder="请输入找回密码答案" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">头像</label>
                            <div class="layui-input-block">
                                <input type="text" name="icon" lay-verify="url" placeholder="请输入头像地址" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item layui-form-text">
                            <label class="layui-form-label">个性签名</label>
                            <div class="layui-input-block">
                                <textarea name="signature" placeholder="请输入个性签名" class="layui-textarea"></textarea>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">性别</label>
                            <div class="layui-input-block">
                                <input type="radio" name="sex" value="男" title="男" checked>
                                <input type="radio" name="sex" value="女" title="女">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">生日</label>
                            <div class="layui-input-inline">
                                <input type="text" name="birthday" id="birthday" lay-verify="date" placeholder="请选择生日" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">学历</label>
                            <div class="layui-input-block">
                                <select name="education" lay-search>
                                    <option value=""></option>
                                    <option value="doctor">博士</option>
                                    <option value="master">硕士</option>
                                    <option value="college" selected>本科</option>
                                    <option value="senior">高中</option>
                                    <option value="junior">初中</option>
                                    <option value="primary">小学</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">学校</label>
                            <div class="layui-input-block">
                                <input type="text" name="school" placeholder="请输入学校" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">手机</label>
                            <div class="layui-input-inline">
                                <input type="tel" name="phone" lay-verify="required|phone" placeholder="请输入手机号码" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">邮箱</label>
                            <div class="layui-input-inline">
                                <input type="text" name="email" lay-verify="required|email" placeholder="请输入邮箱" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">居住住址</label>
                            <div class="layui-input-block">
                                <input type="text" name="address" placeholder="请输入居住住址" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button type="submit" class="layui-btn" lay-submit lay-filter="registerSubmit">立即提交</button>
                                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                            </div>
                        </div>

                    </form>
                </div>

                <br/>
                <br/>
            </div>
        </div>

        <div class="layui-col-md4">&nbsp;
        </div>

    </div>

</div>

<script>
    layui.use(['form','laydate'], function() {
        let form = layui.form;
        let laydate = layui.laydate;
        laydate.render({
            elem: '#birthday'
        });

        //自定义验证规则
        form.verify({
            alertValidate : function(value){
                if(value.length < 6){
                    alert('长度至少要6个字符');
                    return true;
                }
            },
            confirmPassValidate : function (value) {
                let password2 = $("form input[password2]").val().trim();
                console.log(password2);
                if(password2!==value){
                    alert("请确认两次密码一致！");
                }
                return true;
            },
            sizeValidate : function(value){
                if(value.length < 3){
                    return '长度至少要3个字符';
                }
            }
            ,passValidate: [/^[\S]{6,12}$/,'密码必须6到12位，且不能出现空格']
        });

        //监听提交
        //register为事件<button lay-submit lay-filter="register">提交</button>
        form.on('submit(registerSubmit)', function(data){
            //JSON.stringify(data.field)
            console.log(data.field); //当前容器的全部表单字段，名值对形式：{name: value}
            return false; //阻止表单跳转。如果需要表单跳转，去掉这段即可。
        });

        //给表单赋值
        form.val("registerForm", {
            "passwordQuestion": "您的爸爸叫什么?",
            "passwordAnswer": "张三"
        });

        //获取表单区域所有值
        //formTest 即 class="layui-form" 所在元素属性 lay-filter="registerForm" 对应的值
        //var data1 = form.val("registerForm");

    });
</script>

</body>
</html>