<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>欢迎来到芒果聊天平台</title>

    <link rel="stylesheet" href="../layui/css/layui.css">

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="../layui/layui.js"></script>
    <script type="text/javascript" src="../style/js/common/jquery3.6.0.js"></script>
    <script type="module" src="../style/js/utils/request.js"></script>
    <script type="module" src="../style/js/login.js"></script>
</head>

<body>

<div>

    <div style="margin: 100px 0 20px 0">
        <div style="text-align: center">
            <img src="../img/logo.png" width="200" height="200" alt="图片寻找中...">
        </div>
    </div>

    <div class="layui-row">

        <div class="layui-col-md4">&nbsp;
        </div>

        <div class="layui-col-md4">
            <div class="layui-panel" style="padding: 0 60px;background-color: #F5F5F5">
                <br/>
                <br/>

                <div style="width: 80%;align-self: center">

                    <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                        <legend>欢迎进入</legend>
                    </fieldset>

                    <form class="layui-form" lay-filter="loginForm">

                        <div class="layui-form-item">
                            <label class="layui-form-label">用户名：</label>
                            <div class="layui-input-block">
                                <input type="text" name="username" required  lay-verify="required|sizeValidate" lay-reqtext="用户名是必填项，岂能为空？" placeholder="请输入用户名" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <label class="layui-form-label">密&nbsp;&nbsp;&nbsp;&nbsp;码：</label>
                            <div class="layui-input-block">
                                <input type="password" name="password" required lay-verify="required|passValidate" lay-reqtext="密码是必填项，岂能为空？" placeholder="请输入密码" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <br/>

                        <div class="layui-form-item">
                            <div class="layui-input-block">
                                <button class="layui-btn" lay-submit lay-filter="loginSubmit">登录</button>
                                <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                            </div>
                        </div>

                    </form>
                    <button type="reset" class="layui-btn layui-btn-primary" onclick="testPost()">测试</button>
                </div>

                <br/>
                <br/>
            </div>
        </div>


        <div class="layui-col-md4">&nbsp;
        </div>

    </div>

</div>

<script>
    layui.use('form', function() {

        let form = layui.form;

        //验证规则
        form.verify({
            sizeValidate : function(value){
                if(value.length < 5){
                    return '用户名不少于5个字符';
                }
            }
            ,passValidate: [/^[\S]{6,12}$/,'密码必须6到12位！']
        });

        //监听提交
        form.on('submit(loginSubmit)', function(data){
            login(data.field);
            // console.log(data.field);
            return false;
        });

    });
</script>

</body>

</html>